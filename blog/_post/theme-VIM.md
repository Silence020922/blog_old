---
title: vim入门
date: 2022-10-10
tag: note
---
# VIM入门
>本专题仅为个人人无事做的学习记录
## 配置vim为默认编辑器
```
vim ~/.bash_profile #使用vim编辑该文件
```
在适当位置插入以下内容
```
export EDITOR='vim'
esc + :wq #保存并退出
```
## 基本介绍
vim具有四个基本模式，分别为    
>1. 正常模式(normal mode)     
>2. 可视模式(Visual mode)      
>3. 插入模式(insert mode)    
>4. 命令模式（command mode)

终端内
```
vim + file-name 
```
进入vim窗口，默认为正常模式。    
在默认模式按下
>v 进入可视模式    
>i 进入插入模式
>: 进入命令模式    
>在以上三种模式中按下esc OR ctrl+[ 可返回正常模式
## 基本命令
```
vim file1 file2 ... #可同时打开多个文件
vim -On file1 file2 ... #对打开的文件执行左右分屏操作，n为具体文件数目
vim -on file1 file2... #上下分屏
```
# vim命令
## 正常模式
### 分屏
* 按住ctrl+w后按下s,可上下分屏     
* ctrl+w后按下v可左右分屏    
* :sp file 打开新文件并与正在编辑文件上下分屏     
* :vsp file 打开新文件并左右分屏    
* hjkl分别对应了光标向左下上右移动，同样    
* ctrl+w 后录入 hjkl可以使得当前光标移动到对应位置的分屏，录入HJKL可使得分屏位置发生改变    
* ctrl+w 后按下c即可关闭分屏    
* 直接键入:q也可退出当前分屏    
### 基操 
* :ls 展示当前打开文件的编号及名称    
* :bn 编辑编号为n的文件    
* ：q 退出文件且不保存
* :qa! 退出所有文件且不保存
* :w 保存修改 搭配:wq 保存且推出
* :w! 强制保存
* :e! 放弃对文件的所有修改恢复文件到上次位置
* :saveas file 另存为
### 快捷键——翻页、移动光标
#### 在当前行上移动光标
> 0 移动到行头    
> ^ 移动到本行的第一个不是 blank 字符    
> $ 移动到行尾    
> fa 移动到本行下一个为 a 的字符处，fb 移动到下一个为 b 的字符处    
> nfa 移动到本行光标处开始的第 n 个 字符为 a 的地方（n 是 1，2，3，4 ... 数字）    
> Fa 同 fa 一样，光标移动方向同 fa 相反    
> nFa 同 nfa 类似，光标移动方向同 nfa相反    
> ta 移动光标至 a 字符的前一个字符    
> nta 移动到第二个 a 字符的前一个字符处    
> Ta 同 ta 移动光标方向相反    
> nTa 同 nta 移动光标方向相反    
#### 跨行移动光标
> nG 光标定位到第 n 行的行首    
> gg 光标定位到第一行的行首    
> G 光标定位到最后一行的行首    
> H 光标定位到当前屏幕的第一行行首    
> L 光标移动到当前屏幕的尾部    

#### 翻页
> ctrl +f 查看下一页内容    
> ctrl +b 查看上一页内容
### 删除(d) 复制(y) 粘贴(p)
>d 是删除的意思，通常搭配一个字符 ( 删除范围 ) 实现删除功能，常用的如下：    
> dd 删除一整行    
> d$ 删除光标到本行的结尾    
> dH 删除屏幕显示的第一行文本到光标所在的行    
> dG 删除光标所在行到文本的结束    
> yw 复制一个单词，还有 ynw    
> yy 复制一行，还有 nyy    
> y$ 复制光标到本行的结尾    
> yH 复制屏幕显示的第一行文本到光标所在的行    
> yG 复制光标所在行到文本的结束    
> p 在光标后开始黏贴    
> P 大写的 P 光标前开始粘贴    

## 输入模式
	可利用n+G快速定位到第n行
### 模式进入
>i是在光标所在的字符之前插入需要录入的文本。    
>I 是在光标所在行的行首插入需要录入的文本。    
>a是在光标所在的字符之后插入需要录入的文本。    
>A 是在光标所在行的行尾插入需要录入的文本。    
>s 删除光标所在处的字符然后插入需要录入的文本。    
>S 删除光标所在行，在当前行的行首开始插入需要录入的文本。    
## 命令模式
### 语法(参考[这篇文章](https://www.zhihu.com/question/437735833/answer/1733228460))
>动词
>
>>* d 删除 delete 
>>* r 替换 replace
>>* c 修改 change
>>* y 复制 yank
>>* v 选取 visual select
>
>名词
>
>>* w 单词 word
>>* s 句子 sentence
>>* p 段落 paragraph
>>* t HTML标签 tag
>>* 引号或者各种括号所包含的文本称作一个文本块。
>
>介词
>
>>* i “在…之内”inside
>>* a “环绕…”around
>>* t “到…位置前”to
>>* f “到…位置上”forward
### 常用命令
```
:set nu #显示行号
:set nonu #取消行号
:n #定位到n行
/string #查找目标字符串
:n1,n2d #删除多行文本
:{作用范围}s/{目标}/{替换}/{替换的标志}  
作用范围空-光标所在行 %-全局 n1,n2-区间
替换的标志 g-全局 空-目标第一次出现 i-不区分大小写 I-大小写敏感 c-替换前需要确认
```
## 宏录制
在此特别拿出一个专栏来提一下宏录制，感觉这是一个比较好用的功能。    
开启需处于正常模式下，输入q后按a创建@a宏录制文件。    
此后所进行的所有命令会被录制下来，录制过程中返回到正常模式后再次按下q可退出录制。    
退出录制模式后采用@a可重复a模块，@@重复上一次宏录制操作。    
例如，如果我想在每行后添加四个空格实现换行操作，可
```
qa #正常模式下创建宏录制
A #光标导向至行尾且进入编辑模式
space*4 + esc + q#推出宏录制
```
最后只要无脑@a或者@@便可。
